{% extends "views/layouts/main.njk" %}

{%- from "govuk/components/table/macro.njk" import govukTable -%}

{% block pageHeading %}
	<div class="govuk-grid-row">
		<div class="govuk-grid-column-full">
			<h1 class="govuk-heading-xl govuk-!-margin-bottom-4">
				{{ pageHeading or pageTitle }}
			</h1>
			<p class="govuk-body">This is a list of all projects.</p>
		</div>
	</div>
{% endblock %}

{% block pageContent %}
	{% set rows = [] %}

	{% for project in projects %}
	{% set rows = (rows.push([
		{
			html: "<a class='govuk-link' href='projects/" + project.id + "/'>" + project.name + "</a>"
		},
		{
			text: project.applicantName
		},
		{
			text: project.stage
		}
	]), rows) %}
	{% endfor %}

	{{
		govukTable({
			head: [
				{
					text: "Project name"
				},
				{
					text: "Applicant"
				},
				{
					text: "Stage"
				}
			],
			rows: rows
		})
	}}
{% endblock %}