{% extends "views/layouts/main.njk" %}

{% from "govuk/components/details/macro.njk" import govukDetails %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "views/applications/view/links.njk" import applicationLinks %}
{% from "distressing-content/distressing-content-banner.njk" import distressingContentBanner %}

{% block pageHeading %}{% endblock %}

{% block pageContent %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-third">
            {{ applicationLinks(links, currentUrl) }}
        </div>

        <div class="govuk-grid-column-two-thirds">
            {{ distressingContentBanner(containsDistressingContent) }}
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                    <h1 class="govuk-heading-xl">
                        {% if pageCaption %}
                            <span class="govuk-caption-xl">{{ pageCaption }}</span>
                        {% endif %}
                        {{ pageHeading or pageTitle }}
                    </h1>
                </div>
            </div>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                    <div class="moj-timeline">
                        {% for update in applicationUpdates %}
                            <div class="moj-timeline__item">
                                <div class="moj-timeline__header">
                                    <h2 class="moj-timeline__title">{{ update.firstPublished }}</h2>
                                </div>
                                <div class="moj-timeline__description">
                                    <p class="pins-pre-wrap">{{ update.details }}</p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}